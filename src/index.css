@import '@fontsource/ibm-plex-mono/400.css';
@tailwind base;
@tailwind components;

@layer base {
  /* define theme variables for light and dark */
  :root {
    --color-text-strong: 1 1 1;        /* dark text color in RGB parts (light theme) */
    --color-text-weak: 102 102 102;    /* weak text (light theme) */
    --color-bg: 255 255 255;           /* page bg (light) */
  }

  .dark {
    --color-text-strong: 255 255 255;  /* strong text (dark theme) */
    --color-text-weak: 160 160 160;    /* weak text (dark theme) */
    --color-bg: 1 1 1;                 /* page bg (dark) */
  }

  /* ensure utility-like classes map to CSS variables (no !important, placed in base) */
  .text-strong { color: rgb(var(--color-text-strong) / 1); }
  .text-weak   { color: rgb(var(--color-text-weak) / 1); }
  .text-text-strong { color: rgb(var(--color-text-strong) / 1); }
  .text-text-weak   { color: rgb(var(--color-text-weak) / 1); }

  /* Icon hover glow effect (stays in base) */
  .group:hover i.ph,
  .group:hover i svg {
    filter: drop-shadow(0 0 8px rgba(187, 31, 140, 0.6));
    transition: filter 0.3s ease;
  }

  /* Smooth transform for all hover effects */
  * {
    transition-property: transform, filter, color, opacity;
    transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
  }

  html, body {
    margin: 0;
    padding: 0;
    overflow-x: hidden;
  }
}

/* ...existing base ... */

.rain-canvas {
  position: fixed;           /* changed from absolute -> fixed */
  inset: 0;
  width: 100vw;              /* changed from 100% */
  height: 100vh;             /* changed from 100% */
  pointer-events: none;
  z-index: -1;
  mix-blend-mode: screen;
  display: none;
}

/* Particles canvas for light mode */
/*
.particles-canvas {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 9;                 
  mix-blend-mode: normal;     
  display: none;
}
*/

/* Show particles only in light mode */
/* html:not(.dark) .particles-canvas { display: block; } */

/* Show rain only in dark mode */
html.dark .rain-canvas { display: block; }

/* Respect reduced motion */
@media (prefers-reduced-motion: reduce) {
  .rain-canvas,
  .particles-canvas { display: none; }
}

/* Sakura canvas for light mode */
.sakura-canvas {
  position: fixed;           /* changed from absolute -> fixed */
  inset: 0;
  width: 100vw;              /* changed from 100% */
  height: 100vh;             /* changed from 100% */
  pointer-events: none;
  z-index: -1;
  mix-blend-mode: normal;
  display: none;
}

/* Show sakura only in light mode */
html:not(.dark) .sakura-canvas { display: block; }

/* Update reduced motion to include sakura */
@media (prefers-reduced-motion: reduce) {
  .rain-canvas,
  .sakura-canvas { display: none; }
}

/* View Transition API styles */
/* ::view-transition-old(root),
::view-transition-new(root) {
  animation: none;
  mix-blend-mode: normal;
}

::view-transition-old(root) {
  z-index: 1;
}

::view-transition-new(root) {
  z-index: 999;
}

.dark::view-transition-old(root) {
  z-index: 999;
}

.dark::view-transition-new(root) {
  z-index: 1;
} */

/* Tailwind utilities should come after base/components so hover: and group-hover: utilities can override the base rules */
@tailwind utilities;